# A bottom-up implementation of LR(0) parser

*Disclaimer: The implementation is not standardized and imperfect. I'm not a compiler/parser specialist but just a compiler learner. I posted a series of Parser implementations mainly for my personal education purposes.*

A more general implementation can be found [here](https://github.com/Vipul97/slr-parser).

## Grammar
```
E'-> E    (1)
E -> E+T  (2)
E -> E-T  (3)
E -> T    (4)
T -> T*N  (5)
T -> T/N  (6)
T -> N    (7)
```

## First | Follow
```
   | First | Follow
-  |   -   |   -
E' |   N   |   $
E  |   N   | $,+,-
T  |   N   | $,*,/,+,-
```

## DFA
```
           N      +---S12---+ <--------------------------+
      +---------> | T -> N. | <-----------+      N       |
      |           +---------+       N     |              |
      |                                   |              |
+----S1-----+     +----S2-----+         + |         +----S4-----+  T   +-----S6----+
| E'-> .E   | E   | E'-> E.   |-----------|-------> | E -> E+.T | ---> | E -> E+T. | -+
| E -> .E+T |---> | E -> E.+T | -   +----S5-----+   | T -> .T*N |      | T -> T.*N |  |
| E -> .E-T |     | E -> E.-T |---> | E -> E-.T |   | T -> .T/N |      | T -> T./N | ---+
| E -> .T   |     +-----------+     | T -> .T*N |   | T -> .N   |      +-----------+  | |
| T -> .T*N |     +----S3-----+     | T -> .T/N |   +-----------+  T   +-----S7----+  | |
| T -> .T/N | T   | E -> T.   |     | T -> .N   | -------------------> | E -> E-T. |  | |
| T -> .N   |---> | T -> T.*N |     +-----------+                      | T -> T.*N |  | |
+-----------+     | T -> T./N |                                        | T -> T./N |  | |
                  +-----------+                                        +-----------+  | |
                     |     |   *                   +----S8-----+      *    |   |      | |
                     |     +---------------------> | T -> T*.N | <---------+ * |      | |
                     |                             +-----------+ <-------------|------+ |
                     |      /       +----S9-----+        |       /             |        |
                     +------------> | T -> T/.N | <------|---------------------+        |
                                    +-----------+ <------|------------------------------+
                                        N ↓            N ↓       /
                                    +----S11----+ +----S10----+
                                    | T -> T/N. | | T -> T*N. |
                                    +-----------+ +-----------+
```

## Parsing Table
```
+--------+-----------------------------------------------------+-----------------+
|        |                       ACTION                        |       GOTO      |
| STATE  +--------+--------+--------+--------+--------+--------+--------+--------+
|        |    N   |    +   |    -   |    *   |    /   |    $   |    E   |    T   |
+--------+--------+--------+--------+--------+--------+--------+--------+--------+
|   1    |   s12  |        |        |        |        |        |    2   |    3   |
|   2    |        |   s4   |   s5   |        |        | r1(acc)|        |        |
|   3    |   r4   |   r4   |   r4   |   s8   |   s9   |   r4   |        |        |
|   4    |   s12  |        |        |        |        |        |        |    6   |
|   5    |   s12  |        |        |        |        |        |        |    7   |
|   6    |   r2   |   r2   |   r2   |   s8   |   s9   |   r2   |        |        |
|   7    |   r3   |   r3   |   r3   |   s8   |   s9   |   r3   |        |        |
|   8    |   s10  |        |        |        |        |        |        |        |
|   9    |   s11  |        |        |        |        |        |        |        |
|   10   |   r5   |   r5   |   r5   |   r5   |   r5   |   r5   |        |        |
|   11   |   r6   |   r6   |   r6   |   r6   |   r6   |   r6   |        |        |
|   12   |   r7   |   r7   |   r7   |   r7   |   r7   |   r7   |        |        |
+--------+--------+--------+--------+--------+--------+--------+--------+--------+
```

## Example
```
+------+--------------+-------------+----------------+----------------------+
|      |    STACK     |   SYMBOLS   |     INPUT      |        ACTION        |
+------+--------------+-------------+----------------+----------------------+
|  (1) | 1            |             | 14 - 24 / 12 $ | shift                |
|  (2) | 1 12         |  N          |    - 24 / 12 $ | reduce by T -> N     |
|  (3) | 1 3          |  T          |    - 24 / id $ | reduce by E -> T     |
|  (4) | 1 2          |  E          |    - 24 / 12 $ | shift                |
|  (4) | 1 2 5        |  E -        |      24 / 12 $ | shift                |
|  (5) | 1 2 5 12     |  E - N      |         / 12 $ | reduce by T -> N     |
|  (6) | 1 2 5 7      |  E - T      |         / 12 $ | shift                |
|  (7) | 1 2 5 7 9    |  E - T /    |           12 $ | shift                |
|  (8) | 1 2 5 7 9 11 |  E - T / N  |              $ | reduce by T -> T / N |
|  (9) | 1 2 5 7      |  E - T      |              $ | reduce by E -> E - T |
| (10) | 1 2          |  E          |              $ | accept               |
+------+--------------+-------------+----------------+----------------------+
```
